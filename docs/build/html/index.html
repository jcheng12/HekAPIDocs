<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Heliophysics Events Registry web API &#8212; HEK 0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=12dfc556" />
    <script src="_static/documentation_options.js?v=2709fde1"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="heliophysics-events-registry-web-api">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Heliophysics Events Registry web API</a><a class="headerlink" href="#heliophysics-events-registry-web-api" title="Link to this heading">¶</a></h1>
<nav class="contents" id="table-of-contents">
<p class="topic-title">Table of Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#heliophysics-events-registry-web-api" id="id1">Heliophysics Events Registry web API</a></p>
<ul>
<li><p><a class="reference internal" href="#introduction" id="id2">Introduction</a></p></li>
<li><p><a class="reference internal" href="#querying-the-heliophysics-events-registry" id="id3">Querying the Heliophysics Events Registry</a></p>
<ul>
<li><p><a class="reference internal" href="#simple-search-for-features-events-in-her" id="id4">Simple Search for Features/Events in HER</a></p></li>
<li><p><a class="reference internal" href="#reporting-relations-between-events-features" id="id5">Reporting relations between events/features</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<a class="reference internal image-reference" href="_images/HER_arch.jpg"><img alt="_images/HER_arch.jpg" src="_images/HER_arch.jpg" style="width: 600px;" /></a>
<p>Both Solarsoft and the <a class="reference external" href="https://www.lmsal.com/isolsearch">iSolSearch</a>
web application lets users query the Heliophysics Events Registry (HER) in an interactive manner (much like Google Maps). iSolSearch interacts with HER by means of our web application programming interface (API). The API enables developers to create new third party clients for HER as well as scientists to write software code which interact with HER in an automated manner.</p>
</section>
<section id="querying-the-heliophysics-events-registry">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Querying the Heliophysics Events Registry</a><a class="headerlink" href="#querying-the-heliophysics-events-registry" title="Link to this heading">¶</a></h2>
<p>Usage of an API function amounts to using HTTP to fetch a web document. The base url for all API calls is (including the question mark):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://www.lmsal.com/hek/her?
</pre></div>
</div>
<p>Following the url base, one can append a list of keywords to specify the type of command and options for that specific command.</p>
<section id="simple-search-for-features-events-in-her">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Simple Search for Features/Events in HER</a><a class="headerlink" href="#simple-search-for-features-events-in-her" title="Link to this heading">¶</a></h3>
<p>To do a simple search for Features and Events in HER, one must append to the base url:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmd</span><span class="o">=</span><span class="n">search</span><span class="o">&amp;</span><span class="nb">type</span><span class="o">=</span><span class="n">column</span>
</pre></div>
</div>
<p>In addition to the command (cmd), one must specify which event type to search for. For all event types, use **:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmd</span><span class="o">=</span><span class="n">search</span><span class="o">&amp;</span><span class="nb">type</span><span class="o">=</span><span class="n">column</span><span class="o">&amp;</span><span class="n">event_type</span><span class="o">=**</span>
</pre></div>
</div>
<p>For some but not all event types, use a comma delimited list of two-letter abbreviations (see <a class="reference external" href="http://www.lmsal.com/hek/VOEvent_Spec.html">http://www.lmsal.com/hek/VOEvent_Spec.html</a> for full list of event types). E.g. the following specifies that one wishes to search for active regions, flares and emerging flux regions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmd</span><span class="o">=</span><span class="n">search</span><span class="o">&amp;</span><span class="nb">type</span><span class="o">=</span><span class="n">column</span><span class="o">&amp;</span><span class="n">event_type</span><span class="o">=</span><span class="n">ar</span><span class="p">,</span><span class="n">fl</span><span class="p">,</span><span class="n">ef</span>
</pre></div>
</div>
<p>One must also provide a time window using event_starttime and event_endtime:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmd</span><span class="o">=</span><span class="n">search</span><span class="o">&amp;</span><span class="nb">type</span><span class="o">=</span><span class="n">column</span><span class="o">&amp;</span><span class="n">event_type</span><span class="o">=</span><span class="n">ar</span><span class="p">,</span><span class="n">fl</span><span class="p">,</span><span class="n">ef</span><span class="o">&amp;</span><span class="n">event_starttime</span><span class="o">=</span><span class="mi">2007</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">29</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">event_endtime</span><span class="o">=</span><span class="mi">2007</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">07</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span>
</pre></div>
</div>
<p>Only entries with duration fully contained within this time will be returned.</p>
<p>The spatial region must also be specified. At present, we support searches by helioprojective (from Earth’s perspective, in arcseconds from disk center), Stonyhurst (longitude measured from central meridian and latitude in degrees) and Carrington (longitude and latitude in degrees). Let (x1,y1) and (x2,y2) be the lower-left and upper-right coordinates of a bounding box respectively. To get everything within the disk, it suffices to specify:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmd</span><span class="o">=</span><span class="n">search</span><span class="o">&amp;</span><span class="nb">type</span><span class="o">=</span><span class="n">column</span><span class="o">&amp;</span><span class="n">event_type</span><span class="o">=</span><span class="n">ar</span><span class="p">,</span><span class="n">fl</span><span class="p">,</span><span class="n">ef</span><span class="o">&amp;</span><span class="n">event_starttime</span><span class="o">=</span><span class="mi">2007</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">29</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">event_endtime</span><span class="o">=</span><span class="mi">2007</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">07</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">event_coordsys</span><span class="o">=</span><span class="n">helioprojective</span><span class="o">&amp;</span><span class="n">x1</span><span class="o">=-</span><span class="mi">1200</span><span class="o">&amp;</span><span class="n">x2</span><span class="o">=</span><span class="mi">1200</span><span class="o">&amp;</span><span class="n">y1</span><span class="o">=-</span><span class="mi">1200</span><span class="o">&amp;</span><span class="n">y2</span><span class="o">=</span><span class="mi">1200</span>
</pre></div>
</div>
<p>To specify a bounding box in Stonyhurst coordinates, give the bounding longitude and latitude in degrees. For the full sphere, do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmd</span><span class="o">=</span><span class="n">search</span><span class="o">&amp;</span><span class="nb">type</span><span class="o">=</span><span class="n">column</span><span class="o">&amp;</span><span class="n">event_type</span><span class="o">=</span><span class="n">ar</span><span class="p">,</span><span class="n">fl</span><span class="p">,</span><span class="n">ef</span><span class="o">&amp;</span><span class="n">event_starttime</span><span class="o">=</span><span class="mi">2007</span><span class="o">-</span><span class="mi">04</span><span class="o">-</span><span class="mi">29</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">event_endtime</span><span class="o">=</span><span class="mi">2007</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">07</span><span class="n">T00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="o">&amp;</span><span class="n">event_coordsys</span><span class="o">=</span><span class="n">stonyhurst</span><span class="o">&amp;</span><span class="n">x1</span><span class="o">=-</span><span class="mi">180</span><span class="o">&amp;</span><span class="n">x2</span><span class="o">=</span><span class="mi">180</span><span class="o">&amp;</span><span class="n">y1</span><span class="o">=-</span><span class="mi">90</span><span class="o">&amp;</span><span class="n">y2</span><span class="o">=</span><span class="mi">90</span>
</pre></div>
</div>
<p>To get query results in XML form, set cosec=1. To get JSON, set cosec=2 (this setting is needed for iSolSearch to render the results properly).</p>
<p>The query for this example with JSON output would then be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://www.lmsal.com/hek/her?cosec=2&amp;cmd=search&amp;type=column&amp;event_type=ar,fl,ef&amp;event_starttime=2007-04-29T00:00:00&amp;event_endtime=2007-05-07T00:00:00&amp;event_coordsys=helioprojective&amp;x1=-1200&amp;x2=1200&amp;y1=-1200&amp;y2=1200
</pre></div>
</div>
<p>To show the search results in iSolSearch, simply point your browser to the iSolSearch link with and passing the full query as a hek_query parameter. For instance, click here. Please note that iSolSearch requires cosec=2 type (JSON) format. Useful tools for inspecting JSON documents on the web are the Firefox Add-Ons JSONovich <a class="reference external" href="https://addons.mozilla.org/en-US/firefox/addon/10122">https://addons.mozilla.org/en-US/firefox/addon/10122</a> and JSONView <a class="reference external" href="https://addons.mozilla.org/en-US/firefox/addon/10869">https://addons.mozilla.org/en-US/firefox/addon/10869</a> (this one is recommended).</p>
</section>
<section id="reporting-relations-between-events-features">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Reporting relations between events/features</a><a class="headerlink" href="#reporting-relations-between-events-features" title="Link to this heading">¶</a></h3>
<p>Relations between existing entries in HER can be reported. All relations are of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="n">v</span> <span class="n">B</span>
</pre></div>
</div>
<p>where A and B are events/features (e.g. ARs, FLs etc) and v is a verb indicating the relation between A and B. The following verbs are allowed:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 40.0%" />
<col style="width: 40.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Verb</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>Restrictions</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>causes</p></td>
<td><p>There is a physical causal relation between A and B with the former as the cause of the latter.</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>contains</p></td>
<td><p>The feature/event B is spatially and temporally contained within A.</p></td>
<td><p>Only ARs with larger (longer) spatial (temporal) extent can contain other ARs. Sunspots cannot contain other events/features.</p></td>
</tr>
<tr class="row-even"><td><p>is_associated_with</p></td>
<td><p>A is associated with B.</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>splits_into</p></td>
<td><p>A splits into B</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>merges_into</p></td>
<td><p>A merges into B</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>is_followed_by</p></td>
<td><p>A is followed by B</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Users can report relations with the verbs causes and is_associated_with. For example, a researcher who has published a paper establishing the causal relationship or association between an Emerging Flux event and a Filament Eruption event can submit the relation EF causes FE. If the causal relationship was determined to be tentative, the relation EF is_associated_with FE should be used instead.</p>
<p>Relations using the verb contains are not to be submitted by users since HER already has the temporal and spatial information to determine/test these relationships. Since these two types of relations are rather commonplace, the cost of storage of all relations of these types will likely be too expensive (relative to testing the relations on the fly). In some case, however, it may be worth storing such relations. For example, it may be worth storing results of the complex query “Find ARs in CHs”.</p>
<p>To report an edge, you must provide both IVORNS for A and B (labeled ‘ivorn1’ and ‘ivorn2’ in the URL), edge_type (must be a “verb” from the above list).</p>
<p>Optionally you may provide edge_strength (a real number in [0,1]). You may omit it (assumes a strength of 1, which is how the splits, merges, follows relations from automated methods are generally done).</p>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>https://www.lmsal.com/hek/her/heks?cosec=2&amp;cmd=create_edge&amp;ivorn1=ivo://helio-informatics.org/AR_SPoCA_20140508_034716_20140508T032848_5&amp;ivorn2=ivo://helio-informatics.org/AR_SPoCA_20140508_074820_20140508T072848_4&amp;edge_type=is_followed_by&amp;edge_strength=0.9
</pre></div>
</div>
<p>or using curl:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">curl</span> <span class="o">-</span><span class="n">k</span> <span class="o">-</span><span class="n">b</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">cookiejar</span><span class="o">.</span><span class="n">txt</span> <span class="o">-</span><span class="n">d</span> <span class="n">cmd</span><span class="o">=</span><span class="n">create_edge</span> <span class="o">-</span><span class="n">d</span> <span class="n">cosec</span><span class="o">=</span><span class="mi">2</span> <span class="o">-</span><span class="n">d</span> <span class="s2">&quot;ivorn1=ivo://helio-informatics.org/AR_SPoCA_20140508_034716_20140508T032848_5&amp;ivorn2=ivo://helio-informatics.org/AR_SPoCA_20140508_074820_20140508T072848_4&amp;edge_type=is_followed_by&quot;</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">www</span><span class="o">.</span><span class="n">lmsal</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">hek</span><span class="o">/</span><span class="n">her</span><span class="o">/</span><span class="n">heks</span>
</pre></div>
</div>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">HEK</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Test.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.2.6</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>